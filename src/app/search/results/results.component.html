<ng-container *ngIf="isLoaded$ | async">
  <ks-results-input
    [searchTerms]="(searchTerms$ | async) || ''"
    (searchTermsEmitter)="onSearchTermsChange($event)"
    (doUpdateEmitter)="onUpdate()"
  ></ks-results-input>

  <!-- TODO show number of results -->
  {{ getResultCount((results$ | async) ?? []) }}

  <ks-result-list
    [workByCode]="worksByCode$ | async"
    [results]="(results$ | async) || []"
    (onClick)="onClick($event)"
  ></ks-result-list>
</ng-container>

<ks-paragraph-dialog
  [(isVisible)]="showParagraph"
  [data]="hitData"
  (navigateEmitter)="onFullTextNavigation($event)"
></ks-paragraph-dialog>

<ng-container *ngIf="showUpButton">
  <div class="ks-scroll-to-top">
    <nz-float-button
      nzType="default"
      [nzIcon]="icon"
      (click)="scrollTop()"
      nz-tooltip
      [nzTooltipTitle]="'COMMON.SCROLL_TOP_TOOLTIP' | translate"
    ></nz-float-button>
  </div>
</ng-container>

<ng-template #icon>
  <nz-icon nzType="up" nzTheme="outline" />
</ng-template>
